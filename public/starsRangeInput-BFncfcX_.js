import{dc as B,ac as z,a7 as c,a5 as E,i as T,h as U,ba as F,a0 as I,a as r,t as G,bw as V}from"./index-DZ3NJB4a.js";import{v as N,E as D,G as k,o as H}from"./appDialogsManager-CUoDRw_1.js";const j=()=>{const{rootScope:e}=B(),s=N();return z(()=>{const i=e.managers.apiManager.getAppConfig();return s.collect(i),i})},rt=e=>{const[s]=j(),i=c(()=>(+s()?.stars_paid_message_commission_permille||0)/1e3),a=c(()=>(+s()?.stars_usd_withdraw_rate_x1000||0)/1e3),n=c(()=>Math.round(i()*100)),l=c(()=>Math.max(.01,Math.round(i()*a()*e())/100));return{commissionPercents:n,willReceiveDollars:l}},q="_Container_16lt0_36",J="_Row_16lt0_41",K="_Limit_16lt0_49",O="_LimitLast_16lt0_53",Q="_Value_16lt0_57",X="_InputWrapper_16lt0_63",Y="_Thumb_16lt0_78",Z="_Background_16lt0_98",tt="_Progress_16lt0_108",o={Container:q,Row:J,Limit:K,LimitLast:O,Value:Q,InputWrapper:X,Thumb:Y,Background:Z,Progress:tt},et=G("<div><div><div>1</div><div></div><div></div></div><div><input type=range min=1 step=1><div></div><div></div><div>"),f=[[10,1],[10,2],[14,5],[10,10],[12,25],[10,50],[15,100],[20,250],[5,500]],u=D(f.map(e=>e[0]),0),nt=A(u);function A(e){let s=0;for(const[i,a]of f)if(s+=Math.min(e,i)*a,e-=i,e<=0)break;return s}function st(e){let s=0;for(const[i,a]of f){const n=Math.min(i,Math.floor(e/a));e-=n*a,s+=n}return s}const at=e=>{const s=()=>V(st(e.value),1,u),i=()=>H(s(),1,u,0,1),a=n=>{const l=V(n.currentTarget.valueAsNumber,1,u),v=Math.round(A(l));e.onChange(v)};return(()=>{const n=et(),l=n.firstChild,v=l.firstChild,d=v.nextSibling,g=d.nextSibling,p=l.nextSibling,_=p.firstChild,h=_.nextSibling,b=h.nextSibling,W=b.nextSibling;return T(d,()=>U("Stars",[k(parseInt(e.value.toFixed(0)))])),T(g,()=>k(nt)),_.$$input=a,F(_,"max",u),I(t=>{const S=o.Container,m=i(),$=i()*100+"%",C=o.Row,L=o.Limit,P=o.Value,w=`${o.Limit} ${o.LimitLast}`,x=o.InputWrapper,y=o.Background,M=o.Thumb,R=o.Progress;return S!==t._v$&&r(n,t._v$=S),m!==t._v$2&&((t._v$2=m)!=null?n.style.setProperty("--normalized",m):n.style.removeProperty("--normalized")),$!==t._v$3&&((t._v$3=$)!=null?n.style.setProperty("--w",$):n.style.removeProperty("--w")),C!==t._v$4&&r(l,t._v$4=C),L!==t._v$5&&r(v,t._v$5=L),P!==t._v$6&&r(d,t._v$6=P),w!==t._v$7&&r(g,t._v$7=w),x!==t._v$8&&r(p,t._v$8=x),y!==t._v$9&&r(h,t._v$9=y),M!==t._v$10&&r(b,t._v$10=M),R!==t._v$11&&r(W,t._v$11=R),t},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0}),I(()=>_.value=s()),n})()};E(["input"]);export{at as S,rt as u};
//# sourceMappingURL=starsRangeInput-BFncfcX_.js.map
